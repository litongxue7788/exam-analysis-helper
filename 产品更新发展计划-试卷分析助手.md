# 试卷分析助手：多学科、多学段发展规划（草案）

> 面向对象：教研/管理人员内部使用  
> 当前状态：V0（数学单科，小范围试用阶段）  
> 目标：逐步演进为覆盖小学到高中毕业班、多学科的智能诊断与陪伴系统

---

## 一、整体阶段规划

### 阶段 0：当前状态回顾（已完成）

- 功能范围
  - 支持数学单科的试卷分析
  - 前端：数据录入（拍照/表格）、个人报告、历史记录、趋势分析
  - 后端：本地部署的 AI 分析服务（图片/结构化数据 → 文本报告）
- 使用场景
  - 管理/老师在本机使用，为少量学生生成分析报告
  - Vercel 上提供纯前端版本，便于演示和轻量使用

### 阶段 1：教研/管理小范围稳定试用（当前重点）

目标：保证管理人员在“小范围学生+数学科目”场景下，**稳定、可控、可复盘**。

- 1.1 稳定性与可控性
  - 梳理并固定当前本地部署流程（后端+前端）
  - 完善错误提示：API 调用失败、本地文件格式错误、联网异常
  - 增加基础操作日志（仅本地保存），方便问题追溯
- 1.2 教研视角功能打磨
  - 优化“题型—能力映射”的配置方式，方便教研组微调
  - 强化“关键错题”模块：支持老师手动补充文字点评
  - 趋势分析增加导出为图片/截图，便于微信沟通和汇报
- 1.3 管理人员使用规范
  - 内部形成一套操作 SOP（如：数据模板、分析频率、如何解读报告）
  - 小范围试点：选定 1 个年级、1-2 个班级测试效果

阶段 1 的目标不是扩展功能，而是**打牢地基、形成可复制的内部用法**。

### 阶段 2：横向扩科（从数学扩展到语文/英语等学科）

目标：在不大改架构的前提下，让系统支持多个学科；优先照顾“小学生 + 毕业年级”的核心需求。

- 2.1 学科扩展优先级
  - 第一优先：小学语文、小学英语（家长关注度高，题型结构相对清晰）
  - 第二优先：初三数学/语文/英语，高三数学/语文/英语
- 2.2 技术侧改造
  - 数据结构层面
    - 在题目结构 CSV / 解析层增加 `学科`、`题型分类模板` 字段
    - 支持按学科加载不同的“题型—能力”映射表（例如 math.json / chinese.json / english.json）
  - LLM 提示词层面
    - 为不同学科设计独立的 Prompt 模板（学习目标、能力维度、易错点描述方式）
    - 支持在前端根据“学科”切换调用的 Prompt 类型
  - 前端展示层面
    - 报告结构保持“统一骨架 + 学科化文案”：
      - 整体评价
      - 知识/能力短板
      - 关键题型/题组
      - 学习建议与家庭陪伴建议
    - 学科差异体现在：
      - 语文：阅读理解、作文、基础积累等板块
      - 英语：听力、完形、阅读、写作、词汇语法等板块
- 2.3 教研共建
  - 邀请每个学科的骨干老师共建“能力维度”和“题型分类”模板
  - 形成可配置的 JSON 或表格模板，后续由教研自己维护

### 阶段 3：纵向扩展到各学段（小学—初中—高中毕业班）

目标：同一套系统，能够根据学生所处学段自动切换“诊断语言”和“关注重点”。

- 3.1 学段划分
  - 小学：一到六年级（重点关注基础习惯、学习兴趣、家长陪伴）
  - 初中：七到九年级（重点关注知识板块短板、学科间平衡）
  - 高中：高一到高三（重点关注选择性考试模块、冲刺策略）
- 3.2 报告风格分级
  - 学生版
    - 小学版：用更口语化、鼓励式语言，强调“我可以怎样变得更好”
    - 初中版：强调目标管理、时间管理与错题复盘
    - 高中版：更偏向“得分策略”和“考纲对应”
  - 家长版
    - 小学家长：讲“习惯”和“陪伴方式”
    - 初中家长：关注“心理状态 + 学业压力平衡”
    - 高中家长：关注“冲刺策略 + 志愿/定位建议（适度）”
- 3.3 能力维度随学段演进
  - 小学数学：计算能力、应用题理解、空间想象、审题习惯
  - 初中数学：函数思想、方程思想、数形结合、整体与局部等
  - 高中数学：数列/立体几何/解析几何/概率统计模块化能力
  - 语文/英语：从“基础积累 → 阅读理解 → 表达输出”的渐进式指标

### 阶段 4：面向家长的大规模使用

目标：在工具内部稳定的前提下，逐步开放“家长自助使用版本”。

- 4.1 产品形态
  - Web 版为主，适配手机浏览器
  - 后期可考虑小程序壳，封装核心功能（成绩录入 + 报告浏览 + 趋势分析）
- 4.2 风险控制
  - 对外版本限制：
    - 单次分析的调用次数限制，避免费用失控
    - 对关键结论增加免责声明和“请结合老师意见”的提示
  - 隐私保护：
    - 建议不上传真实姓名/学号（或本地加密）
    - 不长期存储卷面图片，仅存结构化结果
- 4.3 支持老师/机构的运营需求
  - 报告加上机构 Logo/老师署名
  - 支持导出 PDF 或分享链接（设置有效期）

### 阶段 5：长期演进方向（愿景级）

- 成绩分析 → 学习陪伴：从考试后分析扩展到日常练习诊断
- 单科 → 全科：跨学科能力画像（如阅读理解影响数学应用题）
- 静态报告 → 互动式指导：根据学生反馈动态调整训练计划

---

## 二、近期 3 次迭代建议（可执行版本）

### 迭代 1（面向管理人员的小范围稳定试用）

周期：约 2 周  
目标：让“数学单科 + 本地后端”在一个年级内稳定跑通。

- 完成项
  - 本地部署脚本和说明整理
  - 错误提示统一（API 异常、文件格式错误、网络问题）
  - 报告导出为 PDF/图片（打印/家长沟通使用）
- 验收标准
  - 管理人员可以独立完成：导入成绩 → 生成报告 → 打印/截图 → 与家长沟通
  - 试点班级老师反馈：报告内容“基本准确”、“对家长有参考价值”

### 迭代 2（多学科基础支持 + 题型/能力模板化）

周期：约 3–4 周  
目标：在数学基础上，先增加语文/英语的一版“可用但不完美”的分析。

- 关键动作
  - 为语文、英语分别建立题型与能力映射表（JSON 或 CSV）
  - LLM Prompt 拆分为多套模板：math / chinese / english
  - 前端在录入阶段新增“学科选择”，报告页根据学科切换文案
- 验收标准
  - 语文/英语生成的报告能基本反映学生“短板板块”，不出现明显“说错话”的情况
  - 教研组能在不改代码的前提下，通过配置文件微调题型与能力映射

### 迭代 3（学段差异化表达 + 趋势分析增强）

周期：约 3–4 周  
目标：让工具对“小学 / 初中 / 高中毕业班”的特点有明显区分。

- 关键动作
  - 在学生信息中增加“学段/年级”字段，并在前端/后端全链路使用
  - 为不同学段设计不同的报告语言模板（forStudent / forParent 各一套）
  - 趋势分析页增加：
    - 分数趋势 + 关键模块得分趋势（例如函数、几何、阅读、写作）
    - 学生最近 N 次的“强项/弱项”条目列表
- 验收标准
  - 管理人员能明显感受到：小学报告更温柔、初中更方法化、高中更策略化
  - 趋势分析能支持至少 5–10 次考试的数据展示，不卡顿、无明显错误

---

## 三、角色与权限设计（为未来扩展做准备）

- 管理员
  - 管理学科/学段模板
  - 管理 API Key / 模型配置
  - 查看整体使用数据（调用次数、分析数量）
- 老师/教研
  - 录入成绩、生成报告
  - 给报告添加人工批注
- 家长/学生（未来阶段）
  - 查看报告和趋势
  - 提交简单的“学习反馈”（例如：已完成作业/练习）

---

## 四、技术演进建议（概要）

- 优先把“配置”抽离成数据文件（JSON/CSV），减少改代码次数
- 后端从单机服务演进到云端：
  - 第一步：将图片/文本分析接口做成独立服务，前端通过环境变量切换调用地址
  - 第二步：通过队列/限流，控制大规模调用时的稳定性和成本
- 前端继续保持：
  - 移动端优先设计
  - 所有关键分析结果可导出（PDF/图片）

---

> 说明：本规划是一个“从现在出发”的草案，后续可以在管理人员小范围试用反馈的基础上，每 1–2 个月滚动更新一次。建议由一位固定负责人维护此文档，并在每次版本更新后标注日期和变更内容。

